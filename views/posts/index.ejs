<%- include('../partials/header')%>

    <div class="container d-flex justify-content-center test">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img src="https://images.pexels.com/photos/747964/pexels-photo-747964.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item ">
                <img src="https://images.pexels.com/photos/33688/delicate-arch-night-stars-landscape.jpg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="https://images.pexels.com/photos/2835562/pexels-photo-2835562.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260" class="d-block w-100" alt="...">
              </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    
    <!-- Dynamically created cards -->
    <div class="card-columns container mt-3">
      <%for(item of data){%>
        <div class="card">
          <!-- Removed data-ride attribute for avoiding automatic sliding -->
          <div id="a<%=item._id%>" class="carousel slide">
            <div class="carousel-inner">
              <%item.image.forEach((picture, idx) =>{%>
                  <div class="carousel-item <%= idx == 0 ? 'active' : '' %>">
                    <img class="d-block w-100" src=<%= picture.path %> >
                  </div>
              <%})%>
            </div>
            <%if(item.image.length > 1){ %>
            <a class="carousel-control-prev" href="#a<%=item._id%>" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#a<%=item._id%>" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
            <%}%>
          </div>       
          <div class="card-body">
            <a href="/posts/<%=item._id%>"><h5 class="card-title text-truncate"><%=item.title%></h5></a>
            <p class="card-text text-truncate"><%=item.description%></p>
          </div>
        </div>
      <%}%>
    </div>

<%- include ('../partials/footer')%>
    
